{{ if eq .chezmoi.os "darwin" -}}
#!/bin/bash

brew bundle --file=/dev/stdin <<EOF

tap "FelixKratz/formulae"

brew "coreutils"
brew "fzf"
brew "gh"
brew "htop"
brew "jq"
brew "tmux"
brew "tree"
brew "watch"
brew "fnm"
brew "uv"

# From FelixKratz/formulae
brew "borders"

# Required for nvim
brew "lazygit"
brew "neovim"
brew "ripgrep"

# Syncthing
cask "syncthing"

# Font for p10k
cask "font-jetbrains-mono-nerd-font"

# Tools
cask "karabiner-elements"
cask "miniforge"
cask "nikitabobko/tap/aerospace"
cask "keepassxc"

EOF

# Disable window opening animations
defaults write -g NSAutomaticWindowAnimationsEnabled -bool false

# Speed up key repeat
defaults write -g InitialKeyRepeat -float 15.0 # normal minimum is 15 (225 ms)
defaults write -g KeyRepeat -float 2.0 # normal minimum is 2 (30 ms)

# Make sure borders is started
brew services start borders

uv tool install ruff
{{ end -}}

